{"ast":null,"code":"import \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/popover/style\";\nimport _Popover from \"antd/es/popover\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _classCallCheck from \"/Users/tstudio/IdeaProjects/MKfront/messagewiki2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tstudio/IdeaProjects/MKfront/messagewiki2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tstudio/IdeaProjects/MKfront/messagewiki2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tstudio/IdeaProjects/MKfront/messagewiki2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tstudio/IdeaProjects/MKfront/messagewiki2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\nimport \"antd/es/layout/style\";\nimport _Layout from \"antd/es/layout\";\nimport \"antd/es/menu/style\";\nimport _Menu from \"antd/es/menu\";\nvar _jsxFileName = \"/Users/tstudio/IdeaProjects/MKfront/messagewiki2/src/homepage.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Route, Link, Switch, Redirect } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport App from \"./App\";\nimport './homepage.css';\nimport MostHotTopic from \"./MostHotTopic\";\nimport HotMessageTopic from \"./HotMessageTopic\";\nimport AllTopic from \"./AllTopic\";\nimport Involved from \"./Involved\";\nimport Visitor from \"./Visitor\";\nimport Auth from \"./login/auth\";\nimport LoginForm from \"./login/login\";\nimport Notice from \"./Notice\";\nimport UserBlock from \"./UserBlock\";\n/**\n *created by Chaoyue\n */\n\nvar auth = new Auth(); //全局Auth对象\n\nvar SubMenu = _Menu.SubMenu;\nvar Header = _Layout.Header,\n    Content = _Layout.Content,\n    Sider = _Layout.Sider;\n\nvar openErrorNotification = function openErrorNotification(type) {\n  _notification[type]({\n    message: '未登录',\n    description: '请点击右上角登录',\n    style: {\n      marginTop: 60\n    }\n  });\n};\n\nvar Homepage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Homepage, _React$Component);\n\n  function Homepage(props) {\n    var _this;\n\n    _classCallCheck(this, Homepage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Homepage).call(this, props));\n\n    _this.handleVisibleChange = function (loginCardVisible) {\n      _this.setState({\n        loginCardVisible: loginCardVisible\n      });\n    };\n\n    _this.state = {\n      loginCardVisible: false\n    };\n    return _this;\n  }\n\n  _createClass(Homepage, [{\n    key: \"showLoginCard\",\n    value: function showLoginCard() {\n      this.setState({\n        loginCardVisible: true\n      });\n    }\n  }, {\n    key: \"hideLoginCard\",\n    value: function hideLoginCard(loginCardVisible) {\n      this.setState({\n        loginCardVisible: loginCardVisible\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(_Layout, {\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Header, {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"loginPopover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(_Popover, {\n        content: React.createElement(LoginForm, Object.assign({\n          auth: auth\n        }, this.props, {\n          hideLoginCard: function hideLoginCard(loginCardVisible) {\n            return _this2.hideLoginCard(loginCardVisible);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        })),\n        title: \"\\u767B\\u5F55\",\n        trigger: \"click\",\n        visible: this.state.loginCardVisible,\n        onVisibleChange: this.handleVisibleChange,\n        placement: \"bottomRight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        type: \"primary\",\n        shape: \"circle\",\n        icon: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })))), React.createElement(_Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Sider, {\n        width: 250,\n        style: {\n          background: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(UserBlock, {\n        auth: auth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(_Menu, {\n        mode: \"inline\",\n        defaultSelectedKeys: ['0'],\n        style: {\n          height: '100%',\n          borderRight: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(_Menu.Item, {\n        key: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"smile\",\n        theme: \"twoTone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), \"\\u6E38\\u5BA2\\u533A\", React.createElement(Link, {\n        to: \"/visitor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(_Menu.Item, {\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"smile\",\n        theme: \"twoTone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), \"\\u6700\\u70ED\\u4E3B\\u9898\", React.createElement(Link, {\n        to: \"/mosthottopic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(_Menu.Item, {\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"smile\",\n        theme: \"twoTone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), \"\\u6700\\u70ED\\u7559\\u8A00\", React.createElement(Link, {\n        to: \"/hotmessagetopic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), React.createElement(_Menu.Item, {\n        key: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"smile\",\n        theme: \"twoTone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), \"\\u5168\\u90E8\\u4E3B\\u9898\", React.createElement(Link, {\n        to: \"/alltopic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })), React.createElement(_Menu.Item, {\n        key: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"smile\",\n        theme: \"twoTone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), \"\\u6211\\u53C2\\u4E0E\\u7684\", React.createElement(Link, {\n        to: \"/involved\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })))), React.createElement(_Layout, {\n        style: {\n          padding: '10px 10px 10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Content, {\n        style: {\n          background: '#fff',\n          padding: 24,\n          margin: 0,\n          minHeight: 280\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/visitor\",\n        component: Visitor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/mosthottopic\",\n        render: function render(props) {\n          if (auth.isLogin) {\n            return React.createElement(MostHotTopic, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 122\n              },\n              __self: this\n            }));\n          } else {\n            openErrorNotification('error');\n            return React.createElement(Redirect, {\n              to: \"/notice\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 125\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/hotmessagetopic\",\n        render: function render(props) {\n          if (auth.isLogin) {\n            return React.createElement(HotMessageTopic, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 130\n              },\n              __self: this\n            }));\n          } else {\n            return React.createElement(Redirect, {\n              to: \"/notice\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 132\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/alltopic\",\n        render: function render(props) {\n          if (auth.isLogin) {\n            return React.createElement(AllTopic, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 137\n              },\n              __self: this\n            }));\n          } else {\n            return React.createElement(Redirect, {\n              to: \"/notice\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 139\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/involved\",\n        render: function render(props) {\n          if (auth.isLogin) {\n            return React.createElement(Involved, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 144\n              },\n              __self: this\n            }));\n          } else {\n            return React.createElement(Redirect, {\n              to: \"/notice\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 146\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/notice\",\n        component: Notice,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return Homepage;\n}(React.Component);\n\nexport default Homepage;","map":{"version":3,"sources":["/Users/tstudio/IdeaProjects/MKfront/messagewiki2/src/homepage.js"],"names":["React","BrowserRouter","Router","Route","Link","Switch","Redirect","PropTypes","App","MostHotTopic","HotMessageTopic","AllTopic","Involved","Visitor","Auth","LoginForm","Notice","UserBlock","auth","SubMenu","Header","Content","Sider","openErrorNotification","type","message","description","style","marginTop","Homepage","props","handleVisibleChange","loginCardVisible","setState","state","height","hideLoginCard","background","borderRight","padding","margin","minHeight","isLogin","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Route, Link, Switch, Redirect } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport {Row, Layout, Menu, Breadcrumb, Icon, Button, Popover, notification, Card} from 'antd'\nimport App from \"./App\";\nimport './homepage.css'\nimport MostHotTopic from \"./MostHotTopic\";\nimport HotMessageTopic from \"./HotMessageTopic\";\nimport AllTopic from \"./AllTopic\";\nimport Involved from \"./Involved\";\nimport Visitor from \"./Visitor\";\nimport Auth from \"./login/auth\";\nimport LoginForm from \"./login/login\"\nimport Notice from \"./Notice\";\nimport UserBlock from \"./UserBlock\";\n\n/**\n *created by Chaoyue\n */\n\nlet auth = new Auth();//全局Auth对象\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Sider } = Layout;\n\nconst openErrorNotification = (type) => {\n    notification[type]({\n        message: '未登录',\n        description: '请点击右上角登录',\n        style:{\n            marginTop: 60\n        }\n    });\n}\n\nclass Homepage extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state={\n            loginCardVisible: false\n        }\n    }\n\n    showLoginCard(){\n        this.setState({loginCardVisible : true})\n    }\n\n    handleVisibleChange = (loginCardVisible) => {\n        this.setState({ loginCardVisible});\n    }\n\n    hideLoginCard(loginCardVisible){\n        this.setState({\n            loginCardVisible\n        });\n    }\n\n    render(){\n\n        return(\n        <div className=\"page\">\n            <Router>\n            <Layout style={{ height: '100%'}}>\n                <Header className=\"header\">\n                    <div className=\"logo\" />\n                    <div className=\"loginPopover\">\n                        <Popover\n                            content={<LoginForm auth={auth} {...this.props} hideLoginCard={ loginCardVisible => this.hideLoginCard(loginCardVisible)}/>}\n                            title=\"登录\"\n                            trigger=\"click\"\n                            visible={this.state.loginCardVisible}\n                            onVisibleChange={this.handleVisibleChange}\n                            placement=\"bottomRight\"\n                        >\n                            <Button type=\"primary\" shape='circle' icon=\"login\">\n                            </Button>\n                        </Popover>\n                    </div>\n                </Header>\n                <Layout>\n                    <Sider width={250} style={{ background: '#fff' }}>\n                        <UserBlock auth={auth}/>\n                        <Menu\n                            mode=\"inline\"\n                            defaultSelectedKeys={['0']}\n                            style={{ height: '100%', borderRight: 0 }}\n                        >\n                            <Menu.Item key=\"0\">\n                                <Icon type=\"smile\" theme=\"twoTone\"/>\n                                游客区\n                                <Link to='/visitor'/>\n                            </Menu.Item>\n                            <Menu.Item key=\"1\">\n                                    <Icon type=\"smile\" theme=\"twoTone\"/>\n                                    最热主题\n                                    <Link to='/mosthottopic'/>\n                                </Menu.Item>\n                                <Menu.Item key=\"2\">\n                                    <Icon type=\"smile\" theme=\"twoTone\"/>\n                                    最热留言\n                                    <Link to='/hotmessagetopic'></Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"3\">\n                                    <Icon type=\"smile\" theme=\"twoTone\"/>\n                                    全部主题\n                                    <Link to='/alltopic'></Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"4\">\n                                    <Icon type=\"smile\" theme=\"twoTone\"/>\n                                    我参与的\n                                    <Link to='/involved'/>\n                                </Menu.Item>\n\n                        </Menu>\n                    </Sider>\n                    <Layout style={{ padding: '10px 10px 10px' }}>\n                        <Content style={{ background: '#fff', padding: 24, margin: 0, minHeight: 280 }}>\n                            <Route path='/visitor' component={Visitor}/>\n                            <Route path='/mosthottopic' render={(props)=>{\n                                if (auth.isLogin){\n                                    return <MostHotTopic {...props}/>\n                                }else{\n                                    openErrorNotification('error')\n                                    return <Redirect to='/notice'/>\n                                }\n                            }}/>\n                            <Route path='/hotmessagetopic' render={(props)=>{\n                                if (auth.isLogin){\n                                    return <HotMessageTopic {...props}/>\n                                } else {\n                                    return <Redirect to='/notice'/>\n                                }\n                            }}/>\n                            <Route path='/alltopic' render={(props)=>{\n                                if (auth.isLogin){\n                                    return <AllTopic {...props}/>\n                                } else {\n                                    return <Redirect to='/notice'/>\n                                }\n                            }}/>\n                            <Route path='/involved' render={(props) => {\n                                if (auth.isLogin){\n                                    return <Involved {...props}/>\n                                } else {\n                                    return <Redirect to='/notice'/>\n                                }\n                            }}/>\n                            <Route path='/notice' component={Notice}/>\n                            {/*<Route path='/login' render={(props)=>{*/}\n                                {/*return <LoginForm auth={auth} {...props}/>*/}\n                            {/*}}/>*/}\n                        </Content>\n                    </Layout>\n                </Layout>\n            </Layout>\n\n            </Router>\n        </div>\n        )\n    }\n}\n\n\nexport default Homepage;"]},"metadata":{},"sourceType":"module"}